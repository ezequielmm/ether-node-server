// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model character_classes {
    id         String       @id @default(uuid())
    name       String       @unique @db.VarChar(255)
    created_at DateTime     @default(now())
    updated_at DateTime     @default(now())
    characters characters[]
    cards      cards[]
}

model characters {
    id             String            @id @default(uuid())
    name           String            @unique @db.VarChar(255)
    class_id       String
    created_at     DateTime          @default(now())
    updated_at     DateTime          @default(now())
    characterClass character_classes @relation(fields: [class_id], references: [id])
}

model cards {
    id                 String   @id @default(uuid())
    name               String   @unique @db.VarChar(250)
    description        String   @db.VarChar(250)
    character_class_id String
    code               String   @db.VarChar(255)
    rarity             String   @db.VarChar(255)
    cost               Int      @default(0)
    type               String   @db.VarChar(255)
    keyword            String   @db.VarChar(255)
    coin_cost          Int      @default(0)
    status             String   @db.VarChar(255)
    created_at         DateTime @default(now())
    updated_at         DateTime @default(now())

    character_classes character_classes? @relation(fields: [character_class_id], references: [id])
}

model enemies {
    id         String        @id @default(uuid())
    name       String        @unique @db.VarChar(200)
    type       EnemyType?
    category   EnemyCategory @default(basic)
    life       Int           @default(0)
    min_attack Int           @default(0)
    max_attach Int           @default(0)
    act_id     Int?
}

enum EnemyType {
    beast
    fey
    undead
    clockwork
    eldritch
}

enum EnemyCategory {
    basic
    elite
    boss
}
